{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/heret/OneDrive/Desktop/api/frontend-google-form/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/heret/OneDrive/Desktop/api/frontend-google-form/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/heret/OneDrive/Desktop/api/frontend-google-form/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{Link,useNavigate}from'react-router-dom';import{ToastContainer,toast}from'react-toastify';import{RegisterAPI}from'../../utils/APIRoutes';import'react-toastify/dist/ReactToastify.css';import'../../App.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function SignUpPage(){var navigate=useNavigate();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var toastOptions={position:'bottom-right',autoClose:5000,pauseOnHover:true,theme:'colored',draggable:true};useEffect(function(){if(localStorage.getItem('user')){navigate('/form');}});var submitForm=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();if(!validate()){_context.next=9;break;}_context.next=4;return fetch(RegisterAPI,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({username:username,email:email,password:password})});case 4:response=_context.sent;_context.next=7;return response.json();case 7:data=_context.sent;if(data.status===true){console.log(data);navigate('/login');}else{console.log(data);toast.error(data.message,toastOptions);}case 9:case\"end\":return _context.stop();}},_callee);}));return function submitForm(_x){return _ref.apply(this,arguments);};}();var validate=function validate(){var regex=/^(([^<>()[\\]\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i;if(username.length===0){toast.error('Username is required.',toastOptions);return false;}else if(!email||regex.test(email)===false){toast.error('Email is not Valid.',toastOptions);return false;}else if(!password){toast.error('Password is required.',toastOptions);return false;}else if(password.length<6){toast.error('Password must be equal or greater than 6 characters.',toastOptions);return false;}return true;};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center m-5-auto\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Create your personal account\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){return submitForm(e);},children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"username\",onChange:function onChange(e){return setUsername(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email address\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",onChange:function onChange(e){return setEmail(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",onChange:function onChange(e){return setPassword(e.target.value);}})]}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"button\",{id:\"sub_btn\",type:\"submit\",children:\"Register\"})}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"I am already a member\"}),\".\"]})]}),/*#__PURE__*/_jsx(\"footer\",{children:/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Back to Homepage\"}),\".\"]})})]}),/*#__PURE__*/_jsx(ToastContainer,{})]});}","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","ToastContainer","toast","RegisterAPI","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SignUpPage","navigate","_useState","_useState2","_slicedToArray","username","setUsername","_useState3","_useState4","email","setEmail","_useState5","_useState6","password","setPassword","toastOptions","position","autoClose","pauseOnHover","theme","draggable","localStorage","getItem","submitForm","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","response","data","wrap","_callee$","_context","prev","next","preventDefault","validate","fetch","method","headers","body","JSON","stringify","sent","json","status","console","log","error","message","stop","_x","apply","arguments","regex","length","test","children","className","onSubmit","type","name","onChange","target","value","id","to"],"sources":["C:/Users/heret/OneDrive/Desktop/api/frontend-google-form/src/components/pages/RegisterPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport { RegisterAPI } from '../../utils/APIRoutes';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport '../../App.css';\r\n\r\nexport default function SignUpPage() {\r\n    const navigate = useNavigate();\r\n    const [username, setUsername] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    const toastOptions = {\r\n        position: 'bottom-right',\r\n        autoClose: 5000,\r\n        pauseOnHover: true,\r\n        theme: 'colored',\r\n        draggable: true,\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (localStorage.getItem('user')) {\r\n            navigate('/form');\r\n        }\r\n    });\r\n    const submitForm = async (e) => {\r\n        e.preventDefault();\r\n        if (validate()) {\r\n            const response = await fetch(RegisterAPI, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify({ username, email, password }),\r\n            });\r\n            const data = await response.json();\r\n            if (data.status === true) {\r\n                console.log(data);\r\n                navigate('/login');\r\n            } else {\r\n                console.log(data);\r\n                toast.error(data.message, toastOptions);\r\n            }\r\n        }\r\n    };\r\n    const validate = () => {\r\n        const regex =\r\n            /^(([^<>()[\\]\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i;\r\n\r\n        if (username.length === 0) {\r\n            toast.error('Username is required.', toastOptions);\r\n            return false;\r\n        } else if (!email || regex.test(email) === false) {\r\n            toast.error('Email is not Valid.', toastOptions);\r\n            return false;\r\n        } else if (!password) {\r\n            toast.error('Password is required.', toastOptions);\r\n            return false;\r\n        } else if (password.length < 6) {\r\n            toast.error(\r\n                'Password must be equal or greater than 6 characters.',\r\n                toastOptions\r\n            );\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    };\r\n    return (\r\n        <>\r\n            <div className=\"text-center m-5-auto\">\r\n                <h5>Create your personal account</h5>\r\n                <form onSubmit={(e) => submitForm(e)}>\r\n                    <p>\r\n                        <label>Username</label>\r\n                        <br />\r\n                        <input\r\n                            type=\"text\"\r\n                            name=\"username\"\r\n                            onChange={(e) => setUsername(e.target.value)}\r\n                        />\r\n                    </p>\r\n                    <p>\r\n                        <label>Email address</label>\r\n                        <br />\r\n                        <input\r\n                            type=\"email\"\r\n                            name=\"email\"\r\n                            onChange={(e) => setEmail(e.target.value)}\r\n                        />\r\n                    </p>\r\n                    <p>\r\n                        <label>Password</label>\r\n                        <br />\r\n                        <input\r\n                            type=\"password\"\r\n                            name=\"password\"\r\n                            onChange={(e) => setPassword(e.target.value)}\r\n                        />\r\n                    </p>\r\n\r\n                    <p>\r\n                        <button id=\"sub_btn\" type=\"submit\">\r\n                            Register\r\n                        </button>\r\n                    </p>\r\n                    <p>\r\n                        <Link to=\"/login\">I am already a member</Link>.\r\n                    </p>\r\n                </form>\r\n                <footer>\r\n                    <p>\r\n                        <Link to=\"/\">Back to Homepage</Link>.\r\n                    </p>\r\n                </footer>\r\n            </div>\r\n\r\n            <ToastContainer />\r\n        </>\r\n    );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}